<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Metody przetwarzania danych meteorologicznych w języku programowania R</title>
  <meta name="description" content="Przetwarzanie danych meteorologicznych w R (Hands on meteorological data processing in R)">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Metody przetwarzania danych meteorologicznych w języku programowania R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="figures/cover.png" />
  <meta property="og:description" content="Przetwarzanie danych meteorologicznych w R (Hands on meteorological data processing in R)" />
  <meta name="github-repo" content="bczernecki/przetwarzanie" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Metody przetwarzania danych meteorologicznych w języku programowania R" />
  
  <meta name="twitter:description" content="Przetwarzanie danych meteorologicznych w R (Hands on meteorological data processing in R)" />
  <meta name="twitter:image" content="figures/cover.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="podstawy-r.html">
<link rel="next" href="ramki-danych-i-macierze.html">

<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html">Metody przetwarzania danych (...)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Wprowadzenie</a></li>
<li class="chapter" data-level="1" data-path="whyr.html"><a href="whyr.html"><i class="fa fa-check"></i><b>1</b> <strong>R</strong></a><ul>
<li class="chapter" data-level="1.1" data-path="whyr.html"><a href="whyr.html#kilka-sow-o-r"><i class="fa fa-check"></i><b>1.1</b> Kilka słów o <strong>R</strong> …</a></li>
<li class="chapter" data-level="1.2" data-path="whyr.html"><a href="whyr.html#dlaczego-warto-uczyc-sie-r"><i class="fa fa-check"></i><b>1.2</b> Dlaczego warto uczyć się <strong>R</strong>?</a></li>
<li class="chapter" data-level="1.3" data-path="whyr.html"><a href="whyr.html#x-przykazan-nauki-r"><i class="fa fa-check"></i><b>1.3</b> X przykazań nauki <strong>R</strong></a></li>
<li class="chapter" data-level="1.4" data-path="whyr.html"><a href="whyr.html#od-czego-zaczac"><i class="fa fa-check"></i><b>1.4</b> Od czego zacząć?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="podstawy-r.html"><a href="podstawy-r.html"><i class="fa fa-check"></i><b>2</b> Podstawy <strong>R</strong></a><ul>
<li class="chapter" data-level="2.1" data-path="podstawy-r.html"><a href="podstawy-r.html#terminal-r"><i class="fa fa-check"></i><b>2.1</b> Terminal R</a></li>
<li class="chapter" data-level="2.2" data-path="podstawy-r.html"><a href="podstawy-r.html#arytmetyka"><i class="fa fa-check"></i><b>2.2</b> Arytmetyka</a></li>
<li class="chapter" data-level="2.3" data-path="podstawy-r.html"><a href="podstawy-r.html#tworzenie-obiektow"><i class="fa fa-check"></i><b>2.3</b> Tworzenie obiektów</a></li>
<li class="chapter" data-level="2.4" data-path="podstawy-r.html"><a href="podstawy-r.html#generowanie-ciagow-liczbowych"><i class="fa fa-check"></i><b>2.4</b> Generowanie ciągów liczbowych</a></li>
<li class="chapter" data-level="2.5" data-path="podstawy-r.html"><a href="podstawy-r.html#aczenie-obiektow"><i class="fa fa-check"></i><b>2.5</b> Łączenie obiektów</a></li>
<li class="chapter" data-level="" data-path="podstawy-r.html"><a href="podstawy-r.html#zadania-sprawdzajace"><i class="fa fa-check"></i>Zadania sprawdzające</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html"><i class="fa fa-check"></i><b>3</b> Podstawy <strong>R </strong> - część 2</a><ul>
<li class="chapter" data-level="3.1" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#r-skrypt"><i class="fa fa-check"></i><b>3.1</b> R skrypt</a><ul>
<li class="chapter" data-level="" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#jak-dziaa-skrypt-r"><i class="fa fa-check"></i>Jak działa skrypt R?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#praca-ze-skryptem"><i class="fa fa-check"></i><b>3.2</b> Praca ze skryptem</a><ul>
<li class="chapter" data-level="3.2.1" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#komentarze"><i class="fa fa-check"></i><b>3.2.1</b> Komentarze</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#wektory-i-podstawowe-operacje-na-wektorach"><i class="fa fa-check"></i><b>3.3</b> Wektory i podstawowe operacje na wektorach</a><ul>
<li class="chapter" data-level="3.3.1" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#typy-danych-wektorowych"><i class="fa fa-check"></i><b>3.3.1</b> Typy danych wektorowych</a></li>
<li class="chapter" data-level="3.3.2" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#indeksowanie-wektorow"><i class="fa fa-check"></i><b>3.3.2</b> Indeksowanie wektorów</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#indeksowanie-z-uzyciem-warunkow-logicznych"><i class="fa fa-check"></i><b>3.4</b> Indeksowanie z użyciem warunków logicznych</a><ul>
<li class="chapter" data-level="3.4.1" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#testowanie-warunkow-logicznych"><i class="fa fa-check"></i><b>3.4.1</b> Testowanie warunków logicznych</a></li>
<li class="chapter" data-level="3.4.2" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#funkcja-which"><i class="fa fa-check"></i><b>3.4.2</b> Funkcja <em>which</em></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#zadania-podsumowujace"><i class="fa fa-check"></i><b>3.5</b> Zadania podsumowujące</a><ul>
<li class="chapter" data-level="3.5.1" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#skrypt"><i class="fa fa-check"></i><b>3.5.1</b> Skrypt</a></li>
<li class="chapter" data-level="3.5.2" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#tworzenie-wektorow"><i class="fa fa-check"></i><b>3.5.2</b> Tworzenie wektorów</a></li>
<li class="chapter" data-level="3.5.3" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#indeksowanie"><i class="fa fa-check"></i><b>3.5.3</b> Indeksowanie</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#zadanie-domowe"><i class="fa fa-check"></i>Zadanie domowe</a></li>
<li class="chapter" data-level="" data-path="podstawy-r-czesc-2.html"><a href="podstawy-r-czesc-2.html#zadania-sprawdzajace-1"><i class="fa fa-check"></i>Zadania sprawdzające</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html"><i class="fa fa-check"></i><b>4</b> Ramki danych i macierze</a><ul>
<li class="chapter" data-level="4.1" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#ramki-danych"><i class="fa fa-check"></i><b>4.1</b> Ramki danych</a></li>
<li class="chapter" data-level="4.2" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#praca-na-ramkach-danych"><i class="fa fa-check"></i><b>4.2</b> Praca na ramkach danych</a><ul>
<li class="chapter" data-level="4.2.1" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#jak-odnosic-sie-do-elementow-ramki"><i class="fa fa-check"></i><b>4.2.1</b> Jak odnosić się do elementów ramki?</a></li>
<li class="chapter" data-level="4.2.2" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#tworzenie-ramek-danych"><i class="fa fa-check"></i><b>4.2.2</b> Tworzenie ramek danych</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#macierze"><i class="fa fa-check"></i><b>4.3</b> Macierze</a><ul>
<li class="chapter" data-level="4.3.1" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#indeksowanie-macierzy"><i class="fa fa-check"></i><b>4.3.1</b> Indeksowanie macierzy</a></li>
<li class="chapter" data-level="" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#zadanie-domowe-1"><i class="fa fa-check"></i>Zadanie domowe</a></li>
<li class="chapter" data-level="" data-path="ramki-danych-i-macierze.html"><a href="ramki-danych-i-macierze.html#zadania-sprawdzajace-2"><i class="fa fa-check"></i>Zadania sprawdzające</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html"><i class="fa fa-check"></i><b>5</b> Wczyt i zapis danych</a><ul>
<li class="chapter" data-level="5.1" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#katalog-roboczy"><i class="fa fa-check"></i><b>5.1</b> Katalog roboczy</a></li>
<li class="chapter" data-level="5.2" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#wczyt-danych"><i class="fa fa-check"></i><b>5.2</b> Wczyt danych</a><ul>
<li class="chapter" data-level="5.2.1" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#format-tekstowy-csv-i-pokrewne"><i class="fa fa-check"></i><b>5.2.1</b> Format tekstowy (CSV i pokrewne)</a></li>
<li class="chapter" data-level="" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#zadania-kontrolne"><i class="fa fa-check"></i>Zadania kontrolne</a></li>
<li class="chapter" data-level="5.2.2" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#pliki-tekstowe-o-staej-szerokosci-kolumn"><i class="fa fa-check"></i><b>5.2.2</b> Pliki tekstowe o stałej szerokości kolumn</a></li>
<li class="chapter" data-level="5.2.3" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#format-excela-.xls-.xlsx"><i class="fa fa-check"></i><b>5.2.3</b> Format Excela (.xls / .xlsx)</a></li>
<li class="chapter" data-level="5.2.4" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#format-binarny-r"><i class="fa fa-check"></i><b>5.2.4</b> Format binarny <strong>R</strong></a></li>
<li class="chapter" data-level="5.2.5" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#rds"><i class="fa fa-check"></i><b>5.2.5</b> RDS</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#zapis-danych"><i class="fa fa-check"></i><b>5.3</b> Zapis danych</a><ul>
<li class="chapter" data-level="5.3.1" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#dane-tekstowe-csv-i-pokrewne"><i class="fa fa-check"></i><b>5.3.1</b> Dane tekstowe (csv i pokrewne)</a></li>
<li class="chapter" data-level="5.3.2" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#arkusze"><i class="fa fa-check"></i><b>5.3.2</b> Arkusze kalkulacyjne</a></li>
<li class="chapter" data-level="5.3.3" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#formaty-natywne-r"><i class="fa fa-check"></i><b>5.3.3</b> Formaty natywne <strong>R</strong></a></li>
<li class="chapter" data-level="" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#zadanie-domowe-2"><i class="fa fa-check"></i>Zadanie domowe</a></li>
<li class="chapter" data-level="" data-path="wczyt-i-zapis-danych.html"><a href="wczyt-i-zapis-danych.html#zadanie-sprawdzajace"><i class="fa fa-check"></i>Zadanie sprawdzające</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="petle.html"><a href="petle.html"><i class="fa fa-check"></i><b>6</b> Pętle</a><ul>
<li class="chapter" data-level="6.1" data-path="petle.html"><a href="petle.html#petla-for"><i class="fa fa-check"></i><b>6.1</b> Pętla <em>for</em></a><ul>
<li class="chapter" data-level="6.1.1" data-path="petle.html"><a href="petle.html#zadania-treningowe---czesc-i"><i class="fa fa-check"></i><b>6.1.1</b> Zadania treningowe - część I</a></li>
<li class="chapter" data-level="6.1.2" data-path="petle.html"><a href="petle.html#zadania-treningowe---czesc-ii"><i class="fa fa-check"></i><b>6.1.2</b> Zadania treningowe - część II</a></li>
<li class="chapter" data-level="6.1.3" data-path="petle.html"><a href="petle.html#petla-w-petli"><i class="fa fa-check"></i><b>6.1.3</b> Pętla w pętli</a></li>
<li class="chapter" data-level="6.1.4" data-path="petle.html"><a href="petle.html#wykorzystanie-petli-for-do-pobierania-danych"><i class="fa fa-check"></i><b>6.1.4</b> Wykorzystanie pętli for do pobierania danych</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="petle.html"><a href="petle.html#petla-while"><i class="fa fa-check"></i><b>6.2</b> Pętla <em>while</em></a><ul>
<li class="chapter" data-level="6.2.1" data-path="petle.html"><a href="petle.html#przykad-z-petla-while"><i class="fa fa-check"></i><b>6.2.1</b> Przykład z pętlą <em>while</em></a></li>
<li class="chapter" data-level="" data-path="petle.html"><a href="petle.html#zadanie-domowe-3"><i class="fa fa-check"></i>Zadanie domowe</a></li>
<li class="chapter" data-level="" data-path="petle.html"><a href="petle.html#zadanie-sprawdzajace-1"><i class="fa fa-check"></i>Zadanie sprawdzające</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html"><i class="fa fa-check"></i><b>7</b> Czas i napisy</a><ul>
<li class="chapter" data-level="7.1" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#date"><i class="fa fa-check"></i><b>7.1</b> Date</a><ul>
<li class="chapter" data-level="" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#zadanie-sprawdzajace-2"><i class="fa fa-check"></i>Zadanie sprawdzające</a></li>
<li class="chapter" data-level="7.1.1" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#w-jaki-sposob-najszybciej-utworzyc-ciag-dat"><i class="fa fa-check"></i><b>7.1.1</b> W jaki sposób najszybciej utworzyć ciąg dat?</a></li>
<li class="chapter" data-level="7.1.2" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#operowanie-datami"><i class="fa fa-check"></i><b>7.1.2</b> Operowanie datami</a></li>
<li class="chapter" data-level="7.1.3" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#biblioteka-lubridate"><i class="fa fa-check"></i><b>7.1.3</b> Biblioteka <code>lubridate</code></a></li>
<li class="chapter" data-level="" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#zadanie"><i class="fa fa-check"></i>Zadanie</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#posixct"><i class="fa fa-check"></i><b>7.2</b> POSIXct</a><ul>
<li class="chapter" data-level="" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#zadanie-domowe-4"><i class="fa fa-check"></i>Zadanie domowe</a></li>
<li class="chapter" data-level="" data-path="czas-i-napisy.html"><a href="czas-i-napisy.html#zadanie-podsumowujace"><i class="fa fa-check"></i>Zadanie podsumowujące</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dplyr-czesc-i.html"><a href="dplyr-czesc-i.html"><i class="fa fa-check"></i><b>8</b> dplyr - część I</a><ul>
<li class="chapter" data-level="8.1" data-path="dplyr-czesc-i.html"><a href="dplyr-czesc-i.html#aczenie-ramek-danych---left_join"><i class="fa fa-check"></i><b>8.1</b> Łączenie ramek danych - <code>left_join()</code></a><ul>
<li class="chapter" data-level="8.1.1" data-path="dplyr-czesc-i.html"><a href="dplyr-czesc-i.html#aczenie-danych-po-dacie"><i class="fa fa-check"></i><b>8.1.1</b> Łączenie danych po dacie</a></li>
<li class="chapter" data-level="" data-path="dplyr-czesc-i.html"><a href="dplyr-czesc-i.html#zadanie-domowe-5"><i class="fa fa-check"></i>Zadanie domowe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html"><i class="fa fa-check"></i><b>9</b> dplyr - część II</a><ul>
<li class="chapter" data-level="" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#dane"><i class="fa fa-check"></i>Dane</a></li>
<li class="chapter" data-level="9.1" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#wybor-kolumn---select"><i class="fa fa-check"></i><b>9.1</b> Wybór kolumn - <code>select()</code></a></li>
<li class="chapter" data-level="9.2" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#filtrowanie"><i class="fa fa-check"></i><b>9.2</b> Filtrowanie</a></li>
<li class="chapter" data-level="9.3" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#sortowanie---arrange"><i class="fa fa-check"></i><b>9.3</b> Sortowanie - <code>arrange</code></a></li>
<li class="chapter" data-level="9.4" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#przetwarzanie-potokowe"><i class="fa fa-check"></i><b>9.4</b> Przetwarzanie potokowe</a></li>
<li class="chapter" data-level="9.5" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#group_by-oraz-summarise"><i class="fa fa-check"></i><b>9.5</b> <code>group_by()</code> oraz <code>summarise()</code></a></li>
<li class="chapter" data-level="" data-path="dplyr-czesc-ii.html"><a href="dplyr-czesc-ii.html#zadanie-sprawdzajace-3"><i class="fa fa-check"></i>Zadanie sprawdzające</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="postac-waska-i-szeroka.html"><a href="postac-waska-i-szeroka.html"><i class="fa fa-check"></i><b>10</b> Postać wąska i szeroka</a><ul>
<li class="chapter" data-level="10.1" data-path="postac-waska-i-szeroka.html"><a href="postac-waska-i-szeroka.html#postac-waska"><i class="fa fa-check"></i><b>10.1</b> Postać wąska</a><ul>
<li><a href="postac-waska-i-szeroka.html#konwersja-postaci-waskiej-do-szerokiej---spread">Konwersja postaci wąskiej do szerokiej - <code>spread()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="postac-waska-i-szeroka.html"><a href="postac-waska-i-szeroka.html#postac-szeroka"><i class="fa fa-check"></i><b>10.2</b> Postać szeroka</a><ul>
<li><a href="postac-waska-i-szeroka.html#konwersja-postaci-szerokiej-do-waskiej---gather">Konwersja postaci szerokiej do wąskiej - <code>gather()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="postac-waska-i-szeroka.html"><a href="postac-waska-i-szeroka.html#sklejanie-i-rozszczepianie-kolumn"><i class="fa fa-check"></i><b>10.3</b> Sklejanie i rozszczepianie kolumn</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="grafika.html"><a href="grafika.html"><i class="fa fa-check"></i><b>11</b> Grafika</a><ul>
<li class="chapter" data-level="11.1" data-path="grafika.html"><a href="grafika.html#graphics"><i class="fa fa-check"></i><b>11.1</b> graphics</a></li>
<li class="chapter" data-level="11.2" data-path="grafika.html"><a href="grafika.html#ggplot2"><i class="fa fa-check"></i><b>11.2</b> ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="instalacja.html"><a href="instalacja.html"><i class="fa fa-check"></i>Instalacja</a><ul>
<li><a href="instalacja.html#instalacja-r">Instalacja <strong>R</strong></a></li>
<li><a href="instalacja.html#instalacja-rstudio">Instalacja <strong>RStudio</strong></a></li>
<li class="chapter" data-level="" data-path="instalacja.html"><a href="instalacja.html#instalacja-bibliotek"><i class="fa fa-check"></i>Instalacja bibliotek</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sprawy-organizacyjne.html"><a href="sprawy-organizacyjne.html"><i class="fa fa-check"></i>Sprawy organizacyjne</a><ul>
<li class="chapter" data-level="" data-path="sprawy-organizacyjne.html"><a href="sprawy-organizacyjne.html#kolokwium-koncowe---przykadowe-zagadnienia"><i class="fa fa-check"></i>Kolokwium końcowe - przykładowe zagadnienia:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="divider"></li>
<li><a href="http://www.iqdata.pl" target="blank">Bartosz Czernecki 2017-18</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Metody przetwarzania danych meteorologicznych w języku programowania R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="podstawy-r---czesc-2" class="section level1">
<h1><span class="header-section-number">Rozdział 3</span> Podstawy <strong>R </strong> - część 2</h1>
<div id="r-skrypt" class="section level2">
<h2><span class="header-section-number">3.1</span> R skrypt</h2>
<p>Na poprzednich zajęciach praca z R opierała się na wprowadzaniu komend do terminala, gdzie były one natychmiast przetwarzane przez komputer. W praktyce rzadko się zdarza, że cały proces przetwarzania danych czy tworzenia własnego algorytmu można sprowadzić do kilku- kilkunastu linii kodu. Dlatego też ciąg wydawanych poleceń zapisywany jest najczęściej jako plik skryptowy R, który pozwala na:</p>
<ul>
<li>łatwiejsze uporządkowanie kolejnych poleceń w logiczny ciąg przetwarzania danych</li>
<li>w razie znalezienia błędu - łatwiej jest poprawić taki kod widząc cały schemat postępowania od początku do końca</li>
<li>każdą linię kodu możemy automatycznie uruchomić i sprawdzić jaki daje wynik.</li>
</ul>
<p>Utworzenie nowego pliku skryptowego w programie <strong>RStudio</strong> możliwe jest za pomocą:</p>
<ul>
<li>wybrania z górnego menu opcji <code>File</code>, następnie opcji <code>New File</code> oraz <code>R Script</code> (jak pokazano w przykładzie)</li>
<li>poprzez skrót klawiszowy <code>ctrl+shift+n</code></li>
<li>wybierając ikonę białej kartki z zielonym kółkiem i znakiem plusa. Ikona znajduje się skrajnie z lewej w pierwszym rzędzie ikon. Po wysunięciu szeregu opcji należy wybrać pierwszą z nich, tj. <code>R Script</code>.</li>
</ul>
<div class="figure">
<img src="figures/rstudio_newfile.png" alt="Tworzenie nowego skryptu R w interfejsie programu RStudio" />
<p class="caption">Tworzenie nowego skryptu R w interfejsie programu <strong>RStudio</strong></p>
</div>
<p>Lewe okno programu <strong>RStudio</strong> powinno podzielić się na 2 mniejsze, z dotychczasowym terminalem na dole i nowym oknem do wpisywania skryptu u góry.</p>
<p>Plik skryptowy R jest zwykłym plikiem tekstowym z rozszerzeniem <code>.r</code> lub <code>.R</code>. Określenie “zwykły plik tekstowy” oznacza, że zawiera on tylko te informacje, które są widoczne na ekranie. To trochę tak, jakby wszystkie nasze dotychczasowe komendy wpisywane w terminalu zapisać w “notatniku”, a następnie wklejać je w zależności od potrzeb do terminala.</p>
<div id="jak-dziaa-skrypt-r" class="section level3 unnumbered">
<h3>Jak działa skrypt R?</h3>
<p>Aby “przenieść” daną linię kodu z okna skryptowego do terminala i ją wykonać należy posłużyć się skrótem <code>ctrl+enter</code>. Wówczas aktywna linia kodu zostanie przeniesiona do terminala i wykonana.</p>
<p>Jeśli chcemy jednorazowo uruchomić więcej niż 1 linię kodu (np. jedno polecenie rozpisaliśmy w kilku liniach) możemy zaznaczyć je myszką (lub za pomocą strzałek i <code>shift</code>), a następnie wykonać ten blok kodu stosując skrót <code>ctrl+enter</code>. Częste stosowanie tego skrótu sprawi, że część osób nazwie te zajęcia “ctrl+enter” ;)</p>
<p>Docelowo będziemy dążyć do postaci, w której cały stworzony skrypt stanowi spójną całość i może być uruchomiony linia po linii od początku do końca. Zamiast wielokrotnego wciskania <code>ctrl+enter</code> linia po linii (lub zaznaczenia całego kodu i naciśnięcia <code>ctrl+enter</code>) można ten sam efekt uzyskać za pomocą ikony <code>Source</code> znajdującej się w prawym górnym rogu okna skryptowego (skrót: <code>ctrl+shift+s</code>). Jest to równoznaczne z użyciem funkcji <code>source(nazwa_naszego_pliku_skryptowego.R)</code>.</p>
</div>
</div>
<div id="praca-ze-skryptem" class="section level2">
<h2><span class="header-section-number">3.2</span> Praca ze skryptem</h2>
<p>Praca ze skryptami wymaga wyrobienia pewnych nawyków, które pozwolą na bardziej efektywne tworzenie kodu i przetwarzanie danych.</p>
<div id="komentarze" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Komentarze</h3>
<p>Komentarz to fragment kodu znajdujący się bezpośrednio po znaku <code>#</code>, który nie jest interpretowany przez komputer podczas wykonywania danego polecenia. W środowisku <strong>RStudio</strong> najczęściej po znaku komentarza zmienia się kolor składni dający do zrozumienia użytkownikowi, że dalszy fragment kodu to właśnie komentarzem:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="op">-</span><span class="dv">5</span><span class="op">:</span><span class="dv">5</span>) <span class="co"># funkcja &quot;length&quot; zwraca liczbę elementów / tu: długość ciągu liczbowego</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<p>Dobrym zwyczajem, zwłaszcza na początku nauki programowania i/lub przetwarzania danych jest tworzenie możliwie obszernych i precyzyjnych komentarzy ułatwiających zrozumienie naszego działania lub poszczególnych bloków kodu.</p>
<p>Jedna ze szkół programowania zakłada, że “<em>z komentarzy powinno się móc wywnioskować wszystko co program robi, bez oglądania reszty źródeł</em>” <span class="citation">(Dewhurst and Stark <a href="bibliografia.html#ref-dewhurst1995">1995</a>)</span>. Stosowanie tej zasady pozwoli na dużą oszczędność czasu, zwłaszcza jeśli nasz skrypt:</p>
<ul>
<li>jest używany do nauki programowania/przetwarzania danych,</li>
<li>jest stosunkowo skomplikowany,</li>
<li>zawiera wiele nowych elementów,</li>
<li>jest otwierany stosunkowo rzadko,</li>
<li>ma być docelowo używany także przez inne osoby.</li>
</ul>
<p>Komentarze warto stosować także w odniesieniu do pewnych fragmentów testowanego kodu, które chcemy chwilowo wyłączyć, ale nie chcemy się ich na stałe pozbywać. Twórcy <strong>RStudio</strong> pomyśleli o takim zastosowaniu dając użytkownikom skrót <code>ctrl+shift+c</code>, który w zaznaczonym fragmencie kodu na początku każdej linii tworzy znak komentarza. W celu przetestowania tego rozwiązania stwórz poniższy fragment kodu nawiązujący do przeliczeń temperatury powietrza z stopni Celsjusza na stopnie Fahrenheita:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tc &lt;-<span class="st"> </span><span class="dv">-20</span> <span class="co"># wartosc temperatury w *C </span>
tf &lt;-<span class="st"> </span>tc<span class="op">*</span><span class="fl">1.8</span><span class="op">+</span><span class="dv">32</span> <span class="co"># przeliczamy na stopnie F</span>
<span class="kw">print</span>(tf) <span class="co"># wyświetlamy zawartość zmiennej tf</span>

tc &lt;-<span class="st"> </span><span class="dv">-10</span><span class="op">:</span><span class="dv">10</span> <span class="co"># za drugim razem chcemy przetestowac zakres wartosci temperatury w *C od -10 do +10</span>
tf &lt;-<span class="st"> </span>tc<span class="op">*</span><span class="fl">1.8</span><span class="op">+</span><span class="dv">32</span> <span class="co"># znowu przeliczamy na stopnie F</span>
<span class="kw">print</span>(tf) <span class="co"># wyświetlamy zawartość zmiennej tf</span></code></pre></div>
<p>A następnie zaznacz ostatnie 3 linie kodu i zakomentuj skrótem <code>ctrl+shift+c</code>. Uruchom cały kod (łącznie z zakomentowanymi liniami) i dla pewności sprawdź wartości przechowywane w zmiennych.</p>
</div>
</div>
<div id="wektory-i-podstawowe-operacje-na-wektorach" class="section level2">
<h2><span class="header-section-number">3.3</span> Wektory i podstawowe operacje na wektorach</h2>
<p>Podstawowym typem obiektu w <strong>R</strong> są wektory. Znasz je już z poprzednich ćwiczeń, kiedy traktowaliśmy <strong>R</strong> jako kalkulator, gdy definiowaliśmy nowe obiekty lub generowaliśmy ciągi liczb. Nawet pojedyncza wartość w <strong>R</strong> jest w rzeczywistości wektorem (1-elementowym), natomiast jeśli chcemy dowolne operacje wykonywać na większej liczbie elementów wówczas musimy te obiekty złączyć za pomocą funkcji <code>c()</code>.</p>
<p>Warto zaznajomić się z podstawowym cechami pracy na wektorach w celu uniknięcia późniejszych błędów.</p>
<p><strong>Zadanie</strong></p>
<ol style="list-style-type: decimal">
<li>Stwórz wektor <code>x</code> o wartościach 0, 3, 2, 10, 5 oraz wektor <code>y</code> o wartościach 3, 4, 5. Wykonując operację dodawania, mnożenia i potęgowania na tych dwóch obiektach sprawdź jak działa <em>autoreplikacja</em> w <strong>R</strong>.</li>
<li>Zmodyfikuj obiekt <code>y</code> tak aby zawierał tyle elementów co zmienna <code>x</code>, ale jako 4-ty i 5-ty element wprowadź wartości <code>NA</code> oznaczające brak danych. Ponownie przetestuj mnożenie na tych dwóch obiektach i sprawdź działanie autoreplikacji.</li>
<li>Przetestuj działanie funkcji <code>mean()</code> oraz <code>sum()</code> i <code>cumsum()</code> na obiekcie <code>y</code>. Korzystając z pomocy systemowej sprawdź jak “naprawić” wynik, tak aby uwzględniał on przy obliczaniu tylko wartości liczbowe.</li>
<li>Sprawdź działanie funkcji <code>sort()</code> na zmiennej <code>x</code>.</li>
<li>Sprawdź działanie funkcji <code>rev()</code> na zmiennej <code>y</code>.</li>
</ol>
<blockquote>
<p>Staraj się przyswoić możliwie wiele funkcji omówionych do tej pory. W praktyce najczęściej stosuje się kilkadziesiąt słów kluczowych, które pozwalają na rozwiązanie większości spotykanych problemów obliczeniowych.</p>
</blockquote>
<div id="typy-danych-wektorowych" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Typy danych wektorowych</h3>
<p>W <strong>R</strong> wektory mogą przechowywać nie tylko liczby, ale także typy danych czynnikowych, datę, czas oraz ciągi tekstowe i logiczne. Póki co omówimy w dużym skrócie te 2 ostatnie, które przydadzą się w kolejnym podpunkcie.</p>
<div id="typ-tekstowy" class="section level4">
<h4><span class="header-section-number">3.3.1.1</span> Typ tekstowy</h4>
<p>Deklaracja typu tekstowego odbywa się poprzez wpisanie dowolnego wyrażenia między znaki cudzysłowia <code>&quot; &quot;</code> lub w ciapkach <code>' '</code>. Jeśli chcemy stworzyć obiekt przechowujący pierwsze litery alfabetu możemy go zdefiniować w następujący sposób:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>Warto zwrócić uwagę, że jeśli będziemy próbowali złączyć obiekty o różnych typach <strong>R</strong> domyślnie postara się je “sprowadzić” do postaci najbardziej ogólnej, co często wymusza przekonwertowanie jednego typu danych w inny:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="st">&quot;0&quot;</span>, <span class="st">&quot;5&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;0&quot; &quot;5&quot;</code></pre>
<p>W powyższym przykładzie można rozpoznać konwersję liczb do typu tekstowego ponieważ wszystkie elementy <strong>R</strong> wydrukował w cudzysłowiach.</p>
<p><strong>Wniosek: w wektorze możemy przechowywać TYLKO jeden typ danych! </strong></p>
</div>
<div id="typ-logiczny" class="section level4">
<h4><span class="header-section-number">3.3.1.2</span> Typ logiczny</h4>
<p>Wiele procedur przetwarzania danych wymaga sprawdzania warunków logicznych, które mogą przyjmować wartości PRAWDA lub FAŁSZ. W środowisku <strong>R</strong> te wartości są deklarowane za pomocą słów <code>TRUE</code> lub <code>FALSE</code>, które można sprowadzić do skróconego zapisu dużymi literami <code>T</code> i <code>F</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>) <span class="co"># pelne slowa</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(T, F, T, F) <span class="co"># to samo, ale w skroconym zapisie</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE</code></pre>
<p>Ciekawą własnością typu logicznego jest to, że po sprowadzeniu do wartości numerycznej (np. funkcją <code>as.numeric()</code>) przyjmuje ona wartości 1 (prawda) lub 0 (fałsz):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">logiczny &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>) 
<span class="kw">as.numeric</span>(logiczny)</code></pre></div>
<pre><code>## [1] 1 0</code></pre>
</div>
</div>
<div id="indeksowanie-wektorow" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Indeksowanie wektorów</h3>
<p>Indeksowanie wektorów polega na wyborze określonych elementów obiektu poprzez wskazanie ich pozycji. Indeksy wektora w <strong>R</strong> numerowane są od 1 do n, gdzie n to długość (liczba elementów) wektora. Jeśli nie znasz długości wektora zawsze możesz ją sprawdzić za pomocą funkcji <code>length()</code>.</p>
<p>Wybór dowolnych elementów wektora jest możliwy przez zastosowanie operatora <code>[]</code> wpisując jako argument pozycję, którą chcemy pobrać. Na początek stwórzmy wektor zawierający 20 losowych liczb z przedziału od 0 do 1. Nazwijmy ten obiekt <code>dane</code> i wyświetlmy jego zawartość:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">20</span>)
dane</code></pre></div>
<pre><code>##  [1] 0.49374176 0.87379972 0.78688825 0.50432880 0.82563752 0.55914033
##  [7] 0.66054518 0.09436278 0.33954922 0.90819066 0.93333426 0.74783386
## [13] 0.19406626 0.86883230 0.11125160 0.26684243 0.07404145 0.94344484
## [19] 0.09885549 0.20364520</code></pre>
<p>Komenda pozwalająca na pobranie np. tylko piątego elementu:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[<span class="dv">5</span>]</code></pre></div>
<pre><code>## [1] 0.8256375</code></pre>
<p>Do wyświetlenia np. tylko pierwszych 10-ciu elementów musimy w nawiasie kwadratowym wprowadzić numery indeksów od 1 do 10. Wymaga to wygenerowania ciągu liczb, który będzie traktowany przez <strong>R</strong> jako ciąg liczb 1, 2, 3, 4, 5, 6, 7, 8, 9, 10. Można ten efekt osiągnąć przynajmnie na 2 sposoby.</p>
<ol style="list-style-type: decimal">
<li>Poprzez konkatenację <code>c()</code>:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[ <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>) ]</code></pre></div>
<pre><code>##  [1] 0.49374176 0.87379972 0.78688825 0.50432880 0.82563752 0.55914033
##  [7] 0.66054518 0.09436278 0.33954922 0.90819066</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Poprzez stworzenie ciągu liczb za pomocą operatora <code>:</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[ <span class="dv">1</span><span class="op">:</span><span class="dv">10</span> ]</code></pre></div>
<pre><code>##  [1] 0.49374176 0.87379972 0.78688825 0.50432880 0.82563752 0.55914033
##  [7] 0.66054518 0.09436278 0.33954922 0.90819066</code></pre>
<p>W analogiczny sposób możemy także odwrócić kolejność elementów obiektu <code>dane</code> wyświetlając zbiór wartości malejących od 20 do 1 z interwałem co 1:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[<span class="dv">20</span><span class="op">:</span><span class="dv">1</span>]</code></pre></div>
<pre><code>##  [1] 0.20364520 0.09885549 0.94344484 0.07404145 0.26684243 0.11125160
##  [7] 0.86883230 0.19406626 0.74783386 0.93333426 0.90819066 0.33954922
## [13] 0.09436278 0.66054518 0.55914033 0.82563752 0.50432880 0.78688825
## [19] 0.87379972 0.49374176</code></pre>
<p>Możemy także spróbować wyświetlić tylko wskazane przez nas indeksy. Jeśli chcemy wyświetlić 2 razy 10-ty element, następnie 2-gi, a potem 19-ty to możemy ponownie wykorzystać funkcję <code>c()</code>, która pozwala na stworzenie wektora składającego się z dowolnej konfiguracji indeksów.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[ <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">2</span>,<span class="dv">19</span>) ]</code></pre></div>
<pre><code>## [1] 0.90819066 0.90819066 0.87379972 0.09885549</code></pre>
<blockquote>
<p>W indeksowaniu ważne jest aby wyrażenie znajdujące się w <code>[]</code> było wektorem! Jeśli nie nabrałeś jeszcze wprawy w tworzeniu wektorów za pomocą <code>c()</code> oraz <code>:</code> zawsze możesz przetestować roboczo działanie wprowadzanego wyrażenia indeksującego w konsoli</p>
</blockquote>
<p>W praktyce często do indeksowania wykorzystuje się inne obiekty (wektory), które zawierają numery pozycji do pobrania. Sprawdźmy to na przykładzie:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">indeks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">10</span>) <span class="co"># tworzymy wektor wartości 1, 5, 10</span>
dane[indeks] <span class="co"># wyswietlamy wskazane numery, ktore sa przechowywane w obiekcie `indeks`</span></code></pre></div>
<pre><code>## [1] 0.4937418 0.8256375 0.9081907</code></pre>
<div id="indeksowanie-przez-negacje" class="section level4">
<h4><span class="header-section-number">3.3.2.1</span> Indeksowanie przez “negację”</h4>
<p>Ciekawym rozwiązaniem pozwalającym w wielu przypadkach na pozbycie się niechcianych elementów jest zastosowanie jako indeksu liczb ujemnych. Jeśli chcemy pozbyć się tylko np. pierwszego elementu z naszego obiektu (np. zawiera błąd), wówczas zamiast wpisywać komendę <code>dane[2:19]</code> możemy ten sam efekt osiągnąć stosując poniższy zapis:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[<span class="op">-</span><span class="dv">1</span>]</code></pre></div>
<pre><code>##  [1] 0.87379972 0.78688825 0.50432880 0.82563752 0.55914033 0.66054518
##  [7] 0.09436278 0.33954922 0.90819066 0.93333426 0.74783386 0.19406626
## [13] 0.86883230 0.11125160 0.26684243 0.07404145 0.94344484 0.09885549
## [19] 0.20364520</code></pre>
<p>Wybór poprzez eliminację nie musi się ograniczać do pojedynczego indeksu. Możliwe jest także stworzenie wektora dowolnych liczb ujemnych:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">20</span>)] <span class="co"># pozbywamy sie pierwszego i ostatniego elementu</span></code></pre></div>
<pre><code>##  [1] 0.87379972 0.78688825 0.50432880 0.82563752 0.55914033 0.66054518
##  [7] 0.09436278 0.33954922 0.90819066 0.93333426 0.74783386 0.19406626
## [13] 0.86883230 0.11125160 0.26684243 0.07404145 0.94344484 0.09885549</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane[<span class="kw">c</span>(<span class="op">-</span><span class="dv">5</span><span class="op">:-</span><span class="dv">10</span>, <span class="dv">-15</span><span class="op">:-</span><span class="dv">20</span>) ] <span class="co"># pozbywamy sie elementow od 5. do 10. oraz od 15. do 20.</span></code></pre></div>
<pre><code>## [1] 0.4937418 0.8737997 0.7868883 0.5043288 0.9333343 0.7478339 0.1940663
## [8] 0.8688323</code></pre>
</div>
<div id="indeksowanie-za-pomoca-wyrazen-logicznych" class="section level4">
<h4><span class="header-section-number">3.3.2.2</span> Indeksowanie za pomocą wyrażeń logicznych</h4>
<p>Ciekawym rozwiązaniem przy indeksowaniu może być zastosowanie wartości logicznych <code>TRUE</code> lub <code>FALSE</code>. Na początek stwórzmy nowy wektor zawierający nazwy 4-ech losowych miast i nazwijmy go <code>miasta</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">miasta &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Poznań&quot;</span>, <span class="st">&quot;Wrocław&quot;</span>, <span class="st">&quot;Warszawa&quot;</span>, <span class="st">&quot;Kraków&quot;)</span></code></pre></div>
<p>Stosując wektor logiczny o wartościach <code>TRUE</code> lub <code>FALSE</code> możemy indeksować, które elementy mają zostać pobrane:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">miasta[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]</code></pre></div>
<pre><code>## [1] &quot;Poznań&quot;  &quot;Wrocław&quot; &quot;Kraków&quot;</code></pre>
</div>
</div>
</div>
<div id="indeksowanie-z-uzyciem-warunkow-logicznych" class="section level2">
<h2><span class="header-section-number">3.4</span> Indeksowanie z użyciem warunków logicznych</h2>
<p>Indeksowanie jest niezmiernie ważnym elementem pracy z danymi w <strong>R</strong>. Szybkie i efektywne przetwarzenie danych wymaga testowania warunków logicznych (o tym szerzej w kolejnych częściach kursu), które pozwalają na odfiltrowanie zbiorów danych na których chcemy wykonać naszą analizę. Najczęściej sprowadza się to do stworzenia nowych obiektów (wektorów) przechowujących numery pozycji lub wartości logiczne spełniające dany test. Poniżej zamieszczono tabelę z podstawowymi operacjami logicznymi w <strong>R</strong>:</p>
<table>
<caption>Podstawowe operatory logiczne w <strong>R</strong></caption>
<thead>
<tr class="header">
<th>Operator</th>
<th>Działanie operatora</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code></td>
<td>mniejsze od</td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>mniejsze bądź równe</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>większe od</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>większe bądź równe</td>
</tr>
<tr class="odd">
<td><code>==</code></td>
<td>równe</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>różne od</td>
</tr>
<tr class="odd">
<td><code>!x</code></td>
<td>negacja</td>
</tr>
<tr class="even">
<td><code>x | y</code></td>
<td>suma logiczna zbiorów</td>
</tr>
<tr class="odd">
<td><code>x &amp; y</code></td>
<td>iloczyn logiczny zbiorów</td>
</tr>
</tbody>
</table>
<div id="testowanie-warunkow-logicznych" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Testowanie warunków logicznych</h3>
<p>Działanie operatorów logicznych najlepiej sprawdzić w praktyce. Na początek stwórzmy obiekt <code>dane2</code>, w którym będziemy przechowywać 30 losowych wartości od -1 do +1 i wyświetlmy jego zawartość</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane2 &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">30</span>, <span class="dt">min =</span> <span class="dv">-1</span>, <span class="dt">max =</span> <span class="dv">1</span>)
dane2</code></pre></div>
<pre><code>##  [1] -0.59560858 -0.25663961 -0.68450414 -0.95169447 -0.47746910
##  [6]  0.20173057 -0.80483792  0.18520535  0.30800409 -0.32567132
## [11] -0.85185257  0.40434589 -0.42623454 -0.93771629  0.29577374
## [16] -0.14254649 -0.59012426  0.16720433  0.46219250  0.43996621
## [21]  0.91914229  0.08958197  0.07898348  0.87232260  0.29511599
## [26]  0.83302244 -0.65629381  0.05567291 -0.56115267 -0.66073267</code></pre>
<p>Sprawdzenie, które liczby są większe bądź równe 0 jest możliwe poprzez zastosowanie komendy:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane2 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE
## [12]  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
## [23]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE FALSE FALSE</code></pre>
<p>Otrzymany wynik 30-tu wartości (<code>TRUE/FALSE</code>) wskazuje czy w danym indeksie wartość spełnia dany warunek logiczny. Jeśli chcemy się pozbyć wartości ujemnych możemy np. stworzyć wektor wartości logicznych, zapisać go jako nowy obiekt i podstawić jako indeks:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">indeks &lt;-<span class="st">  </span>dane2 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span>        <span class="co">#   tworzymy wektor indeksujacy</span>
dane2 [ indeks ]</code></pre></div>
<pre><code>##  [1] 0.20173057 0.18520535 0.30800409 0.40434589 0.29577374 0.16720433
##  [7] 0.46219250 0.43996621 0.91914229 0.08958197 0.07898348 0.87232260
## [13] 0.29511599 0.83302244 0.05567291</code></pre>
<p>Lub z pominięciem etapu tworzenia tymczasowego obiektu indeksującego:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane2 [ dane2 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span> ]</code></pre></div>
<pre><code>##  [1] 0.20173057 0.18520535 0.30800409 0.40434589 0.29577374 0.16720433
##  [7] 0.46219250 0.43996621 0.91914229 0.08958197 0.07898348 0.87232260
## [13] 0.29511599 0.83302244 0.05567291</code></pre>
</div>
<div id="funkcja-which" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Funkcja <em>which</em></h3>
<p>W wielu przypadkach bardziej wygodna w użyciu będzie funkcja <code>which()</code> (ang. <em>“który”</em>) zwracająca numery pozycji spełniających dany warunek logiczny.</p>
<blockquote>
<p><code>which()</code> (ang. <em>“który/które”</em>) - czyli które elementy spełniają dany warunek logiczny.</p>
</blockquote>
<p>Poniższa komenda wskazuje indeksy wektora <code>dane2</code> większe od 0</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(dane2<span class="op">&gt;</span><span class="dv">0</span>)</code></pre></div>
<pre><code>##  [1]  6  8  9 12 15 18 19 20 21 22 23 24 25 26 28</code></pre>
<p>Możemy także jednorazowo wykonać 2 testy logiczne, takby aby wybrać np. liczby które są jednocześnie większe bądź równe -0.5 i mniejsze bądź równe -0.1. Graficznie taką zależność możemy wyobrazić sobie jako znalezienie elementów, które zawierają się w niebieskim prostokącie.</p>
<div class="figure" style="text-align: center"><span id="fig:przyklad"></span>
<img src="ksiazka_files/figure-html/przyklad-1.png" alt="Znajdowanie liczb znajdujących się w przedziale domkniętym od -0.5 od -0.1." width="80%" />
<p class="caption">
Rysunek 3.1: Znajdowanie liczb znajdujących się w przedziale domkniętym od -0.5 od -0.1.
</p>
</div>
<p>Odszukanie indeksów tych elementów w składni <strong>R</strong> jest możliwe z wykorzystaniem wyrażeń logicznych i funkcji <code>which()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(dane2 <span class="op">&gt;=</span><span class="st"> </span><span class="fl">-0.5</span> <span class="op">&amp;</span><span class="st"> </span>dane2 <span class="op">&lt;=</span><span class="st"> </span><span class="fl">-0.1</span> )</code></pre></div>
<pre><code>## [1]  2  5 10 13 16</code></pre>
<p>Operator <code>&amp;</code> oznacza iloczyn logiczny zbioru. Jeśli interesowałyby nas wartości, które są jednocześnie mniejsze od -0.5 LUBsą większe od 0.5 (jak na rys. <a href="podstawy-r-czesc-2.html#fig:przyklad2">3.2</a> ), wówczas zamiast iloczynu logicznego powinniśmy użyć sumy logicznej zbioru (czyli operatora <code>|</code>).</p>
<div class="figure" style="text-align: center"><span id="fig:przyklad2"></span>
<img src="ksiazka_files/figure-html/przyklad2-1.png" alt="Znajdowanie wartości mniejszych od -0.5 i większych od 0.5" width="80%" />
<p class="caption">
Rysunek 3.2: Znajdowanie wartości mniejszych od -0.5 i większych od 0.5
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(dane2<span class="op">&lt;</span><span class="st"> </span><span class="fl">-0.5</span> <span class="op">|</span><span class="st"> </span>dane2<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span>)</code></pre></div>
<pre><code>##  [1]  1  3  4  7 11 14 17 21 24 26 27 29 30</code></pre>
<p>Jeśli interesują nas same wartości spełniające dany warunek logiczny (a nie indeksy) możemy zapisać wynik powyższego działania do nowego obiektu i wykorzystać go jako wektor indeksujący</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">indeks &lt;-<span class="st"> </span><span class="kw">which</span>(dane2<span class="op">&lt;</span><span class="st"> </span><span class="fl">-0.5</span> <span class="op">|</span><span class="st"> </span>dane2<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span>)
dane2[indeks]</code></pre></div>
<pre><code>##  [1] -0.5956086 -0.6845041 -0.9516945 -0.8048379 -0.8518526 -0.9377163
##  [7] -0.5901243  0.9191423  0.8723226  0.8330224 -0.6562938 -0.5611527
## [13] -0.6607327</code></pre>
<p>Jeśli chcemy wyświetlić wszystkie pozostałe wartości możemy postawić znak minus w <code>[]</code> , co da nam wartości indeksu pomnożone razy -1</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dane2[<span class="op">-</span>indeks] <span class="co"># lub to samo zapisane jako: dane2[indeks * -1]</span></code></pre></div>
<pre><code>##  [1] -0.25663961 -0.47746910  0.20173057  0.18520535  0.30800409
##  [6] -0.32567132  0.40434589 -0.42623454  0.29577374 -0.14254649
## [11]  0.16720433  0.46219250  0.43996621  0.08958197  0.07898348
## [16]  0.29511599  0.05567291</code></pre>
</div>
</div>
<div id="zadania-podsumowujace" class="section level2">
<h2><span class="header-section-number">3.5</span> Zadania podsumowujące</h2>
<div id="skrypt" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Skrypt</h3>
<ol style="list-style-type: decimal">
<li><p>Utwórz nowy skrypt i skopiuj do niego zawartość kodu ze strony: [<a href="http://enwo.pl/przetwarzanie/lorenz.r" class="uri">http://enwo.pl/przetwarzanie/lorenz.r</a>] (<a href="http://enwo.pl/przetwarzanie/lorenz.r" class="uri">http://enwo.pl/przetwarzanie/lorenz.r</a>)</p></li>
<li><p>Uruchom skrypt</p></li>
</ol>
</div>
<div id="tworzenie-wektorow" class="section level3">
<h3><span class="header-section-number">3.5.2</span> Tworzenie wektorów</h3>
<ol style="list-style-type: decimal">
<li><p>Stwórz wektor <code>miasta</code> składający z 3-ech losowych nazw miejscowości.</p></li>
<li><p>Dołącz do obiektu <code>miasta</code> kolejne o nazwie <em>Wzdół Rządowy</em> [<a href="https://pl.wikipedia.org/wiki/Wzd%C3%B3%C5%82_Rz%C4%85dowy">1</a>], [<a href="http://www.tvp.info/2514948/po-godzinach/bialy-kal-zniknal-suchecipki-zostaja/">2</a> ].</p></li>
<li><p>Nadpisz zawartość wektora <code>miasta</code> usuwając ostatnią nazwę, gdyż <em>Wzdół Rządowy</em> jest wsią a nie miastem.</p></li>
</ol>
</div>
<div id="indeksowanie" class="section level3">
<h3><span class="header-section-number">3.5.3</span> Indeksowanie</h3>
<ol style="list-style-type: decimal">
<li><p>Wyświetl zawartość wbudowanej zmiennej <code>letters</code></p></li>
<li><p>Jaka jest 24-ta litera alfabetu zapisanego w obiekcie <code>letters</code>?</p></li>
<li><p>Ile liter jest dalej w alfabecie niż litera <code>s</code> ? Wykorzystaj zapytanie logiczne <code>&gt;</code></p></li>
</ol>
<blockquote>
<p>Przydatna może być także wiedza o wartościach numerycznych dla <code>TRUE/FALSE</code> oraz funkcji <code>sum()</code>.</p>
</blockquote>
<ol start="4" style="list-style-type: decimal">
<li>Korzystając z operatora <code>[]</code> wyświetl:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>parzyste litery alfabetu (2,4,6 …)</li>
<li>nieparzyste litery alfabetu (1,3,5 …)</li>
</ol>
<hr />
<p>5.1. Stwórz obiekty <code>lon</code> i <code>lat</code> zawierające wartości południków (<code>lon</code>) i równoleżników (<code>lat</code>) dla obszaru Europy odpowiadającej siatce modelu GFS. Model GFS ma rozdzielczość przestrzenną 0.25 x 0.25 stopnia. Przyjmij roboczo, że obszar Europy zawiera się w od 25W do 40E oraz od 30N do 75N (rys. <a href="podstawy-r-czesc-2.html#fig:mapagfs">3.3</a> ). Dla oznaczenia długości geograficznej przyjmij wartości ujemne dla długości geograficznej zachodniej (tj. 25W = -25) i dodatnie dla długości geograficznej wschodniej (tj. 40E = 40). Kontrolnie możesz sprawdzić długość powstałych obiektów (funkcją <code>length()</code>). Sprawdź czy stworzono 261 południków i 181 równoleżników.</p>
<div class="figure" style="text-align: center"><span id="fig:mapagfs"></span>
<img src="ksiazka_files/figure-html/mapagfs-1.png" alt="Schemat domeny obliczeniowej modelu GFS dla Europy" width="80%" />
<p class="caption">
Rysunek 3.3: Schemat domeny obliczeniowej modelu GFS dla Europy
</p>
</div>
<p>5.2. Za pomocą funkcji <code>which()</code> wskaż numery indeksów <code>lon</code> i <code>lat</code>, które zawierają obszar Polski (<a href="podstawy-r-czesc-2.html#fig:mapagfs">3.3</a> ). Przyjmij roboczo, że długości geograficzne powinny zawierać się w przedziale od 13.5 do 25, a szerokości od 48.5 do 55.</p>
<p>5.3. Z obiektów <code>lon</code> i <code>lat</code> wydobądź poprzez operator <code>[ ]</code> wartości południków i równoleżników w podanym powyżej zakresie (13.5E-25.0E, 48.5N-55.0N). Wartości zapisz do nowych obiektów <code>lon2</code> i <code>lat2</code>.</p>
<p>5.4. Ile elementów zawierają nowe obiekty <code>lon2</code> i <code>lat2</code> ?</p>
<hr />
</div>
</div>
<div id="zadanie-domowe" class="section level2 unnumbered">
<h2>Zadanie domowe</h2>
<ol style="list-style-type: decimal">
<li>Korzystając z wbudowanego systemu pomocy puść “totolotka” za pomocą funkcji <code>sample()</code> generując zestaw liczb od 1 do 49, a następnie wywołując parametr <code>size=</code> dla sześciu liczb.</li>
<li>Wygeneruj i zapisz w postaci wektora dowolny ciąg liczbowy składający się z 20-50 liczb. Następnie korzystając z wygenerowanych liczb i wbudowanego systemu pomocy przetestuj działanie poniższych funkcji:</li>
</ol>
<table>
<caption>Wybrane funkcje uzupełniające niezbędną wiedzę do pracy na wektorach w <strong>R</strong></caption>
<thead>
<tr class="header">
<th>Nazwa funkcji</th>
<th>Działanie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>summary()</code></td>
<td>statystyki podsumowujące</td>
</tr>
<tr class="even">
<td><code>range()</code></td>
<td>zwraca jednocześnie minimalną i maksymalną wartość</td>
</tr>
<tr class="odd">
<td><code>rev()</code></td>
<td>odwraca kolejność elementów</td>
</tr>
<tr class="even">
<td><code>rep()</code></td>
<td>replikacja / powtarzanie / zwielokrotnienie</td>
</tr>
<tr class="odd">
<td><code>sort()</code></td>
<td>sortowanie</td>
</tr>
<tr class="even">
<td><code>length()</code></td>
<td>długość obiektu</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="zadania-sprawdzajace-1" class="section level2 unnumbered">
<h2>Zadania sprawdzające</h2>
<p><a href="https://goo.gl/forms/EMbuMMHVSIkQeP2q2" class="uri">https://goo.gl/forms/EMbuMMHVSIkQeP2q2</a></p>

</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71227265-3', 'auto');
  ga('send', 'pageview');

</script>
            </section>

          </div>
        </div>
      </div>
<a href="podstawy-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ramki-danych-i-macierze.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bczernecki/przetwarzanie/edit/master/03-wektory.Rmd",
"text": "https://github.com/bczernecki/przetwarzanie/edit/master/%s"
},
"download": ["ksiazka.pdf", "ksiazka.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
